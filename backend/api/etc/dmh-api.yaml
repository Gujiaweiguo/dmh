Name: dmh-api
Host: 127.0.0.1
Port: 8889

# CORS配置
CorsOrigins:
  - "*"

# 数据库配置
Mysql:
  DataSource: root:Admin168@tcp(127.0.0.1:3306)/dmh?charset=utf8mb4&parseTime=true&loc=Local

# Redis配置
Redis:
  Host: localhost:6379
  Type: node
  Pass: ""

# 日志配置
Log:
  ServiceName: dmh-api
  Mode: console
  Level: info

# 超时配置
Timeout: 30000

# JWT配置
Auth:
  AccessSecret: dmh-access-secret-key
  AccessExpire: 86400

# 频率限制配置
RateLimit:
  # 海报生成频率限制
  PosterGenerate:
    MaxRequests: 5      # 每个时间窗口最大请求数
    WindowDuration: 60    # 时间窗口（秒）
    Storage: memory       # 存储方式: memory, redis
  # 通用API频率限制
  Default:
    MaxRequests: 100     # 每分钟最大请求数
    WindowDuration: 60    # 时间窗口（秒）
    Storage: memory       # 存储方式: memory, redis

# 微信支付配置
WeChatPay:
  AppID: "your_appid"              # 微信开放平台AppID
  MchID: "your_mchid"              # 微信支付商户号
  APIKey: "your_api_key"            # APIv3密钥（32字节）
  APIKeyV3: "your_api_key_v3"       # APIv3密钥（用于签名）
  APIClientCert: ""                 # 证书文件路径（apiclient_cert.pem）
  APIClientKey: ""                  # 证书密钥文件路径（apiclient_key.pem）
  NotifyURL: "https://your-domain.com/api/v1/payment/wechat/notify"  # 支付回调通知URL
  RefundNotifyURL: "https://your-domain.com/api/v1/payment/wechat/refund/notify"  # 退款回调通知URL
  Sandbox: true                     # 是否使用沙箱环境
  CacheTTL: 7200                   # 二维码缓存时间（秒，默认2小时）

# 外部同步配置
ExternalSync:
  Enabled: true
  Database:
    Type: mysql  # mysql, oracle, sqlserver
    Host: 172.21.45.24
    Port: 3306
    User: root
    Password: "Admin168"
    Database: dmh
    Schema: ""  # SQL Server 专用
    Charset: utf8mb4
