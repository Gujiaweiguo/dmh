# ğŸ¯ DMH Digital Marketing Hub

æ•°å­—è¥é”€ä¸­å°ç³»ç»Ÿï¼Œæä¾›å®Œæ•´çš„è¥é”€æ´»åŠ¨ç®¡ç†ã€ç”¨æˆ·æƒé™ç®¡ç†å’Œæ•°æ®åˆ†æåŠŸèƒ½ã€‚

![DMH Logo](https://img.shields.io/badge/DMH-Digital%20Marketing%20Hub-blue)
![Go Version](https://img.shields.io/badge/Go-1.23+-00ADD8)
![Vue Version](https://img.shields.io/badge/Vue.js-3.0+-4FC08D)
![License](https://img.shields.io/badge/License-MIT-green)

## âœ¨ ä¸»è¦åŠŸèƒ½

### ğŸ” å®Œæ•´çš„RBACæƒé™ç³»ç»Ÿ
- **4ç§ç”¨æˆ·è§’è‰²**ï¼šå¹³å°ç®¡ç†å‘˜ã€å“ç‰Œç®¡ç†å‘˜ã€å‚ä¸è€…ã€åŒ¿åç”¨æˆ·
- **JWTè®¤è¯**ï¼šTokenè‡ªåŠ¨åˆ·æ–°ã€ç™»å½•çŠ¶æ€ç®¡ç†ã€å®‰å…¨éªŒè¯
- **æƒé™æ§åˆ¶**ï¼šAPIçº§åˆ«ã€é¡µé¢çº§åˆ«ã€æ•°æ®çº§åˆ«çš„å…¨æ–¹ä½æƒé™ç®¡ç†
- **èœå•æƒé™**ï¼šåŠ¨æ€èœå•ç”Ÿæˆå’ŒæŒ‰é’®æƒé™æ§åˆ¶

### ğŸ¨ å¯è§†åŒ–æ´»åŠ¨ç®¡ç†
- **é¡µé¢è®¾è®¡å™¨**ï¼šæ‹–æ‹½å¼ç»„ä»¶è®¾è®¡ï¼ŒåŒ…å«8ç§å¸¸ç”¨ç»„ä»¶
- **åŠ¨æ€è¡¨å•**ï¼šè‡ªå®šä¹‰æŠ¥åå­—æ®µï¼Œæ”¯æŒæ–‡æœ¬ã€æ‰‹æœºå·ã€é‚®ç®±ã€é€‰æ‹©ç­‰ç±»å‹
- **å®æ—¶é¢„è§ˆ**ï¼šæ‰€è§å³æ‰€å¾—çš„é¡µé¢è®¾è®¡ä½“éªŒ
- **ä¸»é¢˜é…ç½®**ï¼šé¢œè‰²ã€å­—ä½“ã€å¸ƒå±€å®Œå…¨è‡ªå®šä¹‰

### ğŸ‘¥ ç”¨æˆ·å’Œå“ç‰Œç®¡ç†
- **ç”¨æˆ·ç®¡ç†**ï¼šåˆ›å»ºã€ç¼–è¾‘ã€ç¦ç”¨ç”¨æˆ·è´¦å·
- **å“ç‰Œç®¡ç†**ï¼šå“ç‰Œä¿¡æ¯ç®¡ç†å’Œå“ç‰Œç®¡ç†å‘˜å…³ç³»ç»‘å®š
- **æ•°æ®ç»Ÿè®¡**ï¼šç”¨æˆ·è¡Œä¸ºåˆ†æã€æ´»åŠ¨å‚ä¸ç»Ÿè®¡

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   H5 Frontend   â”‚    â”‚  Admin Frontend â”‚    â”‚   Backend API   â”‚
â”‚   (Vue.js 3)    â”‚    â”‚   (Vue.js 3)    â”‚    â”‚   (go-zero)     â”‚
â”‚   Port: 3100    â”‚    â”‚   Port: 3000    â”‚    â”‚   Port: 8889    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚     MySQL       â”‚
                    â”‚   Database      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åç«¯æŠ€æœ¯æ ˆ
- **Go 1.23+** - é«˜æ€§èƒ½åç«¯æœåŠ¡
- **go-zero 1.6+** - å¾®æœåŠ¡æ¡†æ¶ï¼Œæä¾›APIç½‘å…³ã€RPCã€ä¸­é—´ä»¶ç­‰å®Œæ•´è§£å†³æ–¹æ¡ˆ
- **GORM** - å¼ºå¤§çš„ORMæ¡†æ¶
- **JWT** - å®‰å…¨çš„èº«ä»½è®¤è¯
- **MySQL 8.0+** - å¯é çš„æ•°æ®å­˜å‚¨
- **Redis** - é«˜æ€§èƒ½ç¼“å­˜ï¼ˆå¯é€‰ï¼‰

### å‰ç«¯æŠ€æœ¯æ ˆ
- **Vue.js 3** - ç°ä»£åŒ–çš„æ¸è¿›å¼æ¡†æ¶
- **Vite 5/6** - æé€Ÿçš„å‰ç«¯æ„å»ºå·¥å…·
- **Vant UI** - ä¼˜ç§€çš„ç§»åŠ¨ç«¯ç»„ä»¶åº“ï¼ˆH5ç«¯ï¼‰
- **Lucide Vue** - ç²¾ç¾çš„å›¾æ ‡åº“ï¼ˆç®¡ç†åå°ï¼‰
- **TypeScript** - ç±»å‹å®‰å…¨çš„å¼€å‘ä½“éªŒ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Go 1.23+
- Node.js 20+
- MySQL 8.0+

> å¼€å‘ç¯å¢ƒï¼ˆdevï¼‰æ¨èä½¿ç”¨ `./dmh.sh`ï¼Œåªéœ€è¦ä¸€ä¸ª MySQL 8 å®¹å™¨å³å¯ï¼›ç”Ÿäº§ç¯å¢ƒï¼ˆprodï¼‰æ¨èä½¿ç”¨ `docs/deployment` çš„ Docker Compose + Nginxï¼ˆéƒ¨ç½²åˆ° `/opt/dmh`ï¼‰ã€‚

**å‰ç«¯æ„å»ºå·¥å…·è¯´æ˜**
- `frontend-admin` ä½¿ç”¨ Vite 6ï¼ˆVue 3ï¼‰
- `frontend-h5` ä½¿ç”¨ Vite 5ï¼ˆæœªæ¥å¯èƒ½è¿ç§»åˆ°å°ç¨‹åºï¼Œæš‚ä¸å¼ºè¡Œç»Ÿä¸€ï¼‰
- ä»“åº“æ ¹ç›®å½•æä¾› `.nvmrc`ï¼ˆå»ºè®®åœ¨é¡¹ç›®æ ¹æ‰§è¡Œ `nvm use` ä»¥å¯¹é½ Node ç‰ˆæœ¬ï¼‰

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/Gujiaweiguo/DMH.git
cd DMH
```

### 2. æ•°æ®åº“åˆå§‹åŒ–
```bash
# æ¨èï¼šä½¿ç”¨è„šæœ¬ä¸€é”®åˆå§‹åŒ–ï¼ˆæœ¬åœ°å¼€å‘ã€æ•°æ®åº“ç”¨ Dockerï¼‰
./dmh.sh init
```

### 3. å¯åŠ¨åç«¯æœåŠ¡
```bash
cd backend
go mod download
go run api/dmh.go -f api/etc/dmh-api.yaml
```
åç«¯æœåŠ¡å°†åœ¨ http://localhost:8889 å¯åŠ¨

### 4. å¯åŠ¨H5å‰ç«¯
```bash
cd frontend-h5
npm install
npm run dev
```
H5å‰ç«¯å°†åœ¨ http://localhost:3100 å¯åŠ¨

### 5. å¯åŠ¨ç®¡ç†åå°
```bash
cd frontend-admin
npm install
npm run dev
```
ç®¡ç†åå°å°†åœ¨ http://localhost:3000 å¯åŠ¨

## ğŸŒ è®¿é—®åœ°å€å’Œæµ‹è¯•è´¦å·

| æœåŠ¡ | åœ°å€ | ç”¨æˆ·ç±»å‹ | ç”¨æˆ·å | å¯†ç  | åŠŸèƒ½æè¿° |
|------|------|----------|--------|------|----------|
| H5å‰ç«¯ | http://localhost:3100 | æ™®é€šç”¨æˆ· | - | - | æµè§ˆæ´»åŠ¨ã€å‚ä¸æŠ¥å |
| H5å‰ç«¯ | http://localhost:3100/brand/login | å“ç‰Œç®¡ç†å‘˜ | brand_manager | 123456 | æ´»åŠ¨ç®¡ç†ã€é¡µé¢è®¾è®¡ |
| ç®¡ç†åå° | http://localhost:3000 | å¹³å°ç®¡ç†å‘˜ | admin | 123456 | ç³»ç»Ÿç®¡ç†ã€ç”¨æˆ·ç®¡ç† |
| åç«¯API | http://localhost:8889 | - | - | - | RESTful APIæœåŠ¡ |

## ğŸ“± ç”¨æˆ·è§’è‰²è¯¦è§£

### ğŸ”§ å¹³å°ç®¡ç†å‘˜ (platform_admin)
**è®¿é—®æ–¹å¼**: http://localhost:3000
- âœ… ç”¨æˆ·è´¦å·ç®¡ç†ï¼ˆåˆ›å»ºã€ç¼–è¾‘ã€ç¦ç”¨ã€é‡ç½®å¯†ç ï¼‰
- âœ… å“ç‰Œä¿¡æ¯ç®¡ç†ï¼ˆåˆ›å»ºã€ç¼–è¾‘å“ç‰Œï¼‰
- âœ… æƒé™é…ç½®ç®¡ç†ï¼ˆè§’è‰²æƒé™ã€èœå•æƒé™ï¼‰
- âœ… ç³»ç»Ÿè®¾ç½®å’Œå…¨å±€æ•°æ®æŸ¥çœ‹
- âœ… æ´»åŠ¨ç®¡ç†ï¼ˆæŸ¥çœ‹ã€ç¼–è¾‘æ‰€æœ‰å“ç‰Œçš„æ´»åŠ¨ï¼‰

### ğŸ¢ å“ç‰Œç®¡ç†å‘˜ (brand_admin)
**è®¿é—®æ–¹å¼**: http://localhost:3100/brand/login
- âœ… è¥é”€æ´»åŠ¨ç®¡ç†ï¼ˆåˆ›å»ºã€ç¼–è¾‘ã€å¯ç”¨ã€æš‚åœï¼‰
- âœ… å¯è§†åŒ–é¡µé¢è®¾è®¡å™¨ï¼ˆ8ç§ç»„ä»¶ã€ä¸»é¢˜é…ç½®ï¼‰
- âœ… åŠ¨æ€è¡¨å•è®¾è®¡ï¼ˆè‡ªå®šä¹‰å­—æ®µã€éªŒè¯è§„åˆ™ï¼‰
- âœ… æ´»åŠ¨æ•°æ®åˆ†æï¼ˆå‚ä¸ç»Ÿè®¡ã€è½¬åŒ–ç‡ï¼‰
- âœ… æŠ¥åä¿¡æ¯ç®¡ç†ï¼ˆæŸ¥çœ‹ã€å¯¼å‡ºæŠ¥åæ•°æ®ï¼‰
- âœ… ç´ æç®¡ç†ï¼ˆä¸Šä¼ ã€ç®¡ç†æ´»åŠ¨ç´ æï¼‰

### ğŸ‘¤ æ™®é€šç”¨æˆ· (participant)
**è®¿é—®æ–¹å¼**: http://localhost:3100
- âœ… æµè§ˆæ´»åŠ¨åˆ—è¡¨ï¼ˆæ— éœ€ç™»å½•ï¼‰
- âœ… æŸ¥çœ‹æ´»åŠ¨è¯¦æƒ…å’Œé¡µé¢
- âœ… å¡«å†™æŠ¥åè¡¨å•å‚ä¸æ´»åŠ¨
- âœ… æŸ¥çœ‹ä¸ªäººæŠ¥åè®°å½•
- âœ… æ´»åŠ¨ç­›é€‰å’Œæœç´¢

## ğŸ¨ æ ¸å¿ƒåŠŸèƒ½å±•ç¤º

### å¯è§†åŒ–é¡µé¢è®¾è®¡å™¨
```
ğŸ“¦ ç»„ä»¶åº“                    âš™ï¸ ç»„ä»¶é…ç½®                   ğŸ‘ï¸ å®æ—¶é¢„è§ˆ
â”œâ”€â”€ ğŸ–¼ï¸ æ¨ªå¹…å›¾ç‰‡              â”œâ”€â”€ å›¾ç‰‡URLè®¾ç½®               â”œâ”€â”€ é¡µé¢æ ‡é¢˜
â”œâ”€â”€ ğŸ“ æ–‡æœ¬å†…å®¹              â”œâ”€â”€ æ–‡æœ¬å†…å®¹ç¼–è¾‘             â”œâ”€â”€ æ´»åŠ¨æè¿°  
â”œâ”€â”€ ğŸ¬ è§†é¢‘æ’­æ”¾              â”œâ”€â”€ å­—ä½“å¤§å°/å¯¹é½            â”œâ”€â”€ ç»„ä»¶é¢„è§ˆ
â”œâ”€â”€ â° å€’è®¡æ—¶                â”œâ”€â”€ è§†é¢‘URLé…ç½®               â”œâ”€â”€ è¡¨å•å­—æ®µ
â”œâ”€â”€ ğŸ’¬ ç”¨æˆ·è¯„ä»·              â”œâ”€â”€ å€’è®¡æ—¶è®¾ç½®               â”œâ”€â”€ æŠ¥åæŒ‰é’®
â”œâ”€â”€ â“ å¸¸è§é—®é¢˜              â”œâ”€â”€ è¯„ä»·å†…å®¹ç®¡ç†             â””â”€â”€ å®æ—¶æ›´æ–°
â”œâ”€â”€ ğŸ“ è”ç³»æ–¹å¼              â”œâ”€â”€ é—®ç­”åˆ—è¡¨ç¼–è¾‘
â””â”€â”€ ğŸ”— ç¤¾äº¤åª’ä½“              â””â”€â”€ è”ç³»ä¿¡æ¯é…ç½®
```

### RBACæƒé™ä½“ç³»
```
ç”¨æˆ· (User)
â”œâ”€â”€ æ‹¥æœ‰è§’è‰² (Has Roles)
â”‚   â”œâ”€â”€ platform_admin (å¹³å°ç®¡ç†å‘˜)
â”‚   â”œâ”€â”€ brand_admin (å“ç‰Œç®¡ç†å‘˜)
â”‚   â”œâ”€â”€ participant (å‚ä¸è€…)
â”‚   â””â”€â”€ anonymous (åŒ¿åç”¨æˆ·)
â”‚
â”œâ”€â”€ è§’è‰²æƒé™ (Role Permissions)
â”‚   â”œâ”€â”€ èµ„æºæƒé™ (Resource Permissions)
â”‚   â”œâ”€â”€ æ“ä½œæƒé™ (Action Permissions)
â”‚   â””â”€â”€ æ•°æ®æƒé™ (Data Permissions)
â”‚
â””â”€â”€ èœå•æƒé™ (Menu Permissions)
    â”œâ”€â”€ é¡µé¢è®¿é—®æƒé™
    â”œâ”€â”€ æŒ‰é’®æ“ä½œæƒé™
    â””â”€â”€ åŠŸèƒ½æ¨¡å—æƒé™
```

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒæ•°æ®è¡¨
- **users** - ç”¨æˆ·åŸºç¡€ä¿¡æ¯
- **roles** - è§’è‰²å®šä¹‰
- **permissions** - æƒé™å®šä¹‰
- **user_roles** - ç”¨æˆ·è§’è‰²å…³ç³»
- **role_permissions** - è§’è‰²æƒé™å…³ç³»
- **menus** - èœå•å®šä¹‰
- **role_menus** - è§’è‰²èœå•æƒé™
- **brands** - å“ç‰Œä¿¡æ¯
- **campaigns** - è¥é”€æ´»åŠ¨
- **orders** - æŠ¥åè®¢å•
- **audit_logs** - æ“ä½œå®¡è®¡æ—¥å¿—

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### APIæ–‡æ¡£
- **æ¥å£å®šä¹‰**: `backend/api/dmh.api`
- **åœ¨çº¿æ–‡æ¡£**: http://localhost:8889/swagger/

### å‰ç«¯å¼€å‘
```bash
# H5å‰ç«¯å¼€å‘
cd frontend-h5
npm run dev

# ç®¡ç†åå°å¼€å‘
cd frontend-admin  
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
```

### åç«¯å¼€å‘
```bash
# è¿è¡Œå¼€å‘æœåŠ¡å™¨
cd backend
go run api/dmh.go -f api/etc/dmh-api.yaml

# è¿è¡Œæµ‹è¯•
go test ./...

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
go build -o dmh-api api/dmh.go
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

### ä»£ç è§„èŒƒ
- Goä»£ç éµå¾ª `gofmt` æ ¼å¼
- å‰ç«¯ä»£ç ä½¿ç”¨ ESLint + Prettier
- æäº¤ä¿¡æ¯ä½¿ç”¨ [Conventional Commits](https://conventionalcommits.org/)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

## ğŸ“ è”ç³»æ–¹å¼

- **GitHub Issues**: [æäº¤é—®é¢˜](https://github.com/Gujiaweiguo/DMH/issues)
- **Email**: weiguogu@163.com

---

â­ **å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªæ˜Ÿæ ‡æ”¯æŒï¼**

ğŸ”— **é¡¹ç›®é“¾æ¥**: https://github.com/Gujiaweiguo/DMH
